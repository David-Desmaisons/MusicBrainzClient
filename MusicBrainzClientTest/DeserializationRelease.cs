using MusicBrainzClient.Data;
using Xunit;
using FluentAssertions;
using Newtonsoft.Json;

namespace MusicBrainzClientTest 
{
    public class DeserializationRelease
    {
        private const string _Result = "{\"country\":\"US\",\"quality\":\"normal\",\"id\":\"c778773b-0d37-454d-8402-f3d660aed486\",\"status\":\"Official\",\"title\":\"The Shape of Jazz to Come\",\"packaging\":\"Cardboard/Paper Sleeve\",\"barcode\":\"\",\"text-representation\":{\"language\":\"eng\",\"script\":\"Latn\"},\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\",\"sort-name\":\"Coleman, Ornette\"}}],\"cover-art-archive\":{\"darkened\":false,\"back\":false,\"artwork\":false,\"front\":false,\"count\":0},\"release-events\":[{\"area\":{\"id\":\"489ce91b-6658-3307-9877-795b68554c98\",\"disambiguation\":\"\",\"iso-3166-1-codes\":[\"US\"],\"sort-name\":\"United States\",\"name\":\"United States\"},\"date\":\"2010\"}],\"asin\":null,\"status-id\":\"4e304316-386d-3409-af2e-78857eec5cfe\",\"media\":[{\"format-id\":\"3e9080b0-5e6c-34ab-bd15-f526b6306a64\",\"format\":\"12 Vinyl\",\"track-count\":6,\"track-offset\":0,\"title\":\"\",\"tracks\":[{\"id\":\"97b29ab7-13dc-334f-a5fa-bd5771c23628\",\"title\":\"Lonely Woman\",\"artist-credit\":[{\"joinphrase\":\"\",\"artist\":{\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"name\":\"Ornette Coleman\",\"sort-name\":\"Coleman, Ornette\"},\"name\":\"Ornette Coleman\"}],\"number\":\"A1\",\"recording\":{\"length\":302373,\"id\":\"542ca96d-2422-416d-955c-aedca478c0a8\",\"disambiguation\":\"\",\"video\":false,\"title\":\"Lonely Woman\",\"artist-credit\":[{\"name\":\"Ornette Coleman\",\"artist\":{\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\",\"sort-name\":\"Coleman, Ornette\"},\"joinphrase\":\"\"}]},\"length\":299000},{\"recording\":{\"artist-credit\":[{\"joinphrase\":\"\",\"artist\":{\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\"},\"name\":\"Ornette Coleman\"}],\"disambiguation\":\"\",\"id\":\"9e574d43-7c51-4033-ab52-d6cc2ad394d1\",\"video\":false,\"title\":\"Eventually\",\"length\":262893},\"number\":\"A2\",\"length\":260000,\"title\":\"Eventually\",\"id\":\"f18df4b8-3a0b-32b4-8122-008139989a14\",\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\"}}]},{\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"name\":\"Ornette Coleman\",\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"}}],\"title\":\"Peace\",\"id\":\"8603673d-4206-3bbb-9cb3-a81c72de3352\",\"length\":544000,\"number\":\"A3\",\"recording\":{\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\"}}],\"video\":false,\"id\":\"07b95993-0749-4647-af51-1f5aaf37d651\",\"disambiguation\":\"\",\"title\":\"Peace\",\"length\":544840}},{\"number\":\"B1\",\"recording\":{\"length\":412426,\"artist-credit\":[{\"name\":\"Ornette Coleman\",\"artist\":{\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\"},\"joinphrase\":\"\"}],\"video\":false,\"id\":\"c7406914-966f-49eb-897d-6e1f49fd9c2e\",\"disambiguation\":\"\",\"title\":\"Focus on Sanity\"},\"length\":410000,\"title\":\"Focus on Sanity\",\"id\":\"ec9ee425-6739-35a6-805c-3f1d9ef229b8\",\"artist-credit\":[{\"joinphrase\":\"\",\"artist\":{\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\",\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"},\"name\":\"Ornette Coleman\"}]},{\"id\":\"c0216aba-518b-3fff-adf0-3842221797bb\",\"title\":\"Congeniality\",\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\"}}],\"recording\":{\"length\":408400,\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"name\":\"Ornette Coleman\",\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"}}],\"video\":false,\"id\":\"4a9619ee-43c7-4708-a173-6253550518ab\",\"title\":\"Congeniality\",\"disambiguation\":\"\"},\"number\":\"B2\",\"length\":401000},{\"recording\":{\"length\":363466,\"disambiguation\":\"\",\"id\":\"80067bcd-fcfb-4bec-9f76-409072587bd0\",\"video\":false,\"title\":\"Chronology\",\"artist-credit\":[{\"artist\":{\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"name\":\"Ornette Coleman\",\"sort-name\":\"Coleman, Ornette\"},\"name\":\"Ornette Coleman\",\"joinphrase\":\"\"}]},\"number\":\"B3\",\"length\":365000,\"id\":\"f3b31fc5-2520-34c6-9f56-245912851f7e\",\"title\":\"Chronology\",\"artist-credit\":[{\"name\":\"Ornette Coleman\",\"artist\":{\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\"},\"joinphrase\":\"\"}]}],\"position\":1}],\"disambiguation\":\"\",\"packaging-id\":\"f7101ce3-0384-39ce-9fde-fbbd0044d35f\",\"date\":\"2010\"}";
        private const string _Result2 = "{\"packaging\":\"Cardboard/Paper Sleeve\",\"date\":\"2010\",\"status\":\"Official\",\"release-events\":[{\"date\":\"2010\",\"area\":{\"name\":\"United States\",\"iso-3166-1-codes\":[\"US\"],\"id\":\"489ce91b-6658-3307-9877-795b68554c98\",\"disambiguation\":\"\",\"sort-name\":\"United States\"}}],\"title\":\"The Shape of Jazz to Come\",\"packaging-id\":\"f7101ce3-0384-39ce-9fde-fbbd0044d35f\",\"asin\":null,\"release-group\":{\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\"}}],\"disambiguation\":\"\",\"secondary-types\":[],\"title\":\"The Shape of Jazz to Come\",\"primary-type-id\":\"f529b476-6e62-324f-b0aa-1f3e33d313fc\",\"secondary-type-ids\":[],\"first-release-date\":\"1959-10\",\"primary-type\":\"Album\",\"id\":\"5879cfca-e1d0-3ef4-8014-3b284832ed18\"},\"disambiguation\":\"\",\"artist-credit\":[{\"artist\":{\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\",\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"},\"joinphrase\":\"\",\"name\":\"Ornette Coleman\"}],\"status-id\":\"4e304316-386d-3409-af2e-78857eec5cfe\",\"text-representation\":{\"script\":\"Latn\",\"language\":\"eng\"},\"barcode\":\"\",\"country\":\"US\",\"media\":[{\"track-offset\":0,\"format\":\"12 Vinyl\",\"format-id\":\"3e9080b0-5e6c-34ab-bd15-f526b6306a64\",\"tracks\":[{\"recording\":{\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\"}}],\"length\":302373,\"video\":false,\"disambiguation\":\"\",\"title\":\"Lonely Woman\",\"id\":\"542ca96d-2422-416d-955c-aedca478c0a8\"},\"length\":299000,\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\",\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"}}],\"title\":\"Lonely Woman\",\"number\":\"A1\",\"id\":\"97b29ab7-13dc-334f-a5fa-bd5771c23628\"},{\"length\":260000,\"artist-credit\":[{\"artist\":{\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\"},\"joinphrase\":\"\",\"name\":\"Ornette Coleman\"}],\"recording\":{\"title\":\"Eventually\",\"id\":\"9e574d43-7c51-4033-ab52-d6cc2ad394d1\",\"video\":false,\"artist-credit\":[{\"artist\":{\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\"},\"joinphrase\":\"\",\"name\":\"Ornette Coleman\"}],\"length\":262893,\"disambiguation\":\"\"},\"id\":\"f18df4b8-3a0b-32b4-8122-008139989a14\",\"title\":\"Eventually\",\"number\":\"A2\"},{\"id\":\"8603673d-4206-3bbb-9cb3-a81c72de3352\",\"number\":\"A3\",\"title\":\"Peace\",\"artist-credit\":[{\"artist\":{\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"},\"joinphrase\":\"\",\"name\":\"Ornette Coleman\"}],\"length\":544000,\"recording\":{\"title\":\"Peace\",\"id\":\"07b95993-0749-4647-af51-1f5aaf37d651\",\"artist-credit\":[{\"name\":\"Ornette Coleman\",\"joinphrase\":\"\",\"artist\":{\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\"}}],\"disambiguation\":\"\",\"video\":false,\"length\":544840}},{\"id\":\"ec9ee425-6739-35a6-805c-3f1d9ef229b8\",\"title\":\"Focus on Sanity\",\"number\":\"B1\",\"artist-credit\":[{\"artist\":{\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\",\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\"},\"name\":\"Ornette Coleman\",\"joinphrase\":\"\"}],\"length\":410000,\"recording\":{\"title\":\"Focus on Sanity\",\"id\":\"c7406914-966f-49eb-897d-6e1f49fd9c2e\",\"video\":false,\"artist-credit\":[{\"joinphrase\":\"\",\"name\":\"Ornette Coleman\",\"artist\":{\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"name\":\"Ornette Coleman\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\"}}],\"disambiguation\":\"\",\"length\":412426}},{\"artist-credit\":[{\"name\":\"Ornette Coleman\",\"joinphrase\":\"\",\"artist\":{\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\"}}],\"length\":401000,\"recording\":{\"video\":false,\"artist-credit\":[{\"name\":\"Ornette Coleman\",\"joinphrase\":\"\",\"artist\":{\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\"}}],\"disambiguation\":\"\",\"length\":408400,\"id\":\"4a9619ee-43c7-4708-a173-6253550518ab\",\"title\":\"Congeniality\"},\"id\":\"c0216aba-518b-3fff-adf0-3842221797bb\",\"title\":\"Congeniality\",\"number\":\"B2\"},{\"recording\":{\"artist-credit\":[{\"artist\":{\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"disambiguation\":\"\",\"sort-name\":\"Coleman, Ornette\"},\"joinphrase\":\"\",\"name\":\"Ornette Coleman\"}],\"disambiguation\":\"\",\"video\":false,\"length\":363466,\"title\":\"Chronology\",\"id\":\"80067bcd-fcfb-4bec-9f76-409072587bd0\"},\"length\":365000,\"artist-credit\":[{\"artist\":{\"name\":\"Ornette Coleman\",\"id\":\"169c0d1b-fcb8-4a43-9097-829aa7b39205\",\"sort-name\":\"Coleman, Ornette\",\"disambiguation\":\"\"},\"joinphrase\":\"\",\"name\":\"Ornette Coleman\"}],\"title\":\"Chronology\",\"number\":\"B3\",\"id\":\"f3b31fc5-2520-34c6-9f56-245912851f7e\"}],\"title\":\"\",\"position\":1,\"track-count\":6}],\"id\":\"c778773b-0d37-454d-8402-f3d660aed486\",\"cover-art-archive\":{\"artwork\":false,\"darkened\":false,\"front\":false,\"back\":false,\"count\":0},\"quality\":\"normal\"}";

        [Fact]
        public void Deserialize_OK() 
        {
            var res = JsonConvert.DeserializeObject<MusicBrainzRelease>(_Result);
            res.Should().NotBeNull();
        }


        [Fact]
        public void Deserialize_WithReleaseGroup_OK()
        {
            var res = JsonConvert.DeserializeObject<MusicBrainzRelease>(_Result2);
            res.Should().NotBeNull();
        }
    }
}
